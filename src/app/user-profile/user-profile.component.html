<div class="container">
  <h2>User Profile: {{username}}</h2>
  <form [formGroup]="userhomeform" *ngIf="profileExists && !isEditMode">
    <div class="form-group">
      <label for="title"><b>Title:</b></label>
      <input type="text" id="title" class="form-control" formControlName="title" readonly>
    </div>
    <div class="form-group">
      <label for="firstName"><b>First Name:</b></label>
      <input type="text" id="firstName" class="form-control" formControlName="firstName" readonly>
    </div>
    <div class="form-group">
      <label for="lastName"><b>Last Name:</b></label>
      <input type="text" id="lastName" class="form-control" formControlName="lastName" readonly>
    </div>
    <div class="form-group">
      <label for="email"><b>Email:</b></label>
      <input type="text" id="email" class="form-control" formControlName="email" readonly>
    </div>
    <div class="form-group">
      <label for="mobileNumber"><b>Mobile Number:</b></label>
      <input type="text" id="mobileNumber" class="form-control" formControlName="mobileNumber" readonly>
    </div>
    <div class="form-group">
      <label for="age"><b>Age:</b></label>
      <input type="text" id="age" class="form-control" formControlName="age" readonly>
    </div>
    <div class="form-group">
      <label for="gender"><b>Gender:</b></label>
      <input type="text" id="gender" class="form-control" formControlName="gender" readonly>
    </div>
    <button type="button" class="btn btn-secondary" (click)="toggleEditMode()">Edit</button>
  </form>

  <form [formGroup]="userhomeform" *ngIf="isEditMode || !profileExists">
    <div class="form-group">
      <label for="title"><b>Title:</b></label>
      <select id="title" class="form-control" formControlName="title">
        <option value="" disabled>Select Title</option>
        <option value="Mr">Mr</option>
        <option value="Ms">Ms</option>
        <option value="Mrs">Mrs</option>
      </select>
    </div>
    <div class="form-group">
      <label for="firstName"><b>First Name:</b></label>
      <input type="text" id="firstName" class="form-control" formControlName="firstName">
    </div>
    <div class="form-group">
      <label for="lastName"><b>Last Name:</b></label>
      <input type="text" id="lastName" class="form-control" formControlName="lastName">
    </div>
    <div class="form-group">
      <label for="email"><b>Email:</b></label>
      <input type="text" id="email" class="form-control" formControlName="email">
    </div>
    <div class="form-group">
      <label for="mobileNumber"><b>Mobile Number:</b></label>
      <input type="text" id="mobileNumber" class="form-control" formControlName="mobileNumber">
    </div>
    <div class="form-group">
      <label for="age"><b>Age:</b></label>
      <select id="age" class="form-control" formControlName="age">
        <option value="" disabled>Select Age</option>
        <option *ngFor="let age of ages" [value]="age">{{ age }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="gender"><b>Gender:</b></label>
      <select id="gender" class="form-control" formControlName="gender">
        <option value="" disabled>Select Gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>
    </div>
    <div class="btn-group">
      <button *ngIf="!profileExists" type="button" [disabled]="userhomeform.invalid" class="btn btn-primary" (click)="addUserDetails()">Save</button>
      <button *ngIf="profileExists" type="button" [disabled]="userhomeform.invalid" class="btn btn-primary" (click)="updateUserDetails()">Update</button>
      <button type="button" class="btn btn-secondary" (click)="toggleEditMode()">Cancel</button>
    </div>
  </form>
  <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
</div>
